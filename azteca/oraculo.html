<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Or√°culo</title>
    <script type="text/javascript">

    let blackList = [
      'bolud', 'forr', 'put', 'trol', 'pelotud', 'mierda', 'concha'
    ];

    let forbiddenAnswers = [
      '101', '102', '103', '104', '105', '106'
    ];

    let regularAnswers = [
      '1', '2', '3', '4', '5', '6', '7', '8', '9', '10',
      '11', '12', '13', '14', '15', '16', '17', '18'
    ];

    function choice(list) {
        return list[Math.floor(Math.random() * list.length)];
    }

    function focus() {
      let elem = document.getElementById('question');
      elem.value = '';
      elem.focus();
    }

    function sound(x) {
      new Audio(x + '.wav').play();
    }

    function start() {
      focus();
      sound('000');
    } 

    function end() {
      sound('999');
    }

    function forbidden(w) {
      for (let b of blackList) {
        if (w.indexOf(b) != -1) {
          return true;
        }
      }
      return false;
    }

    function answer() {
      let question = document.getElementById('question').value;
      if (forbidden(question)) {
        sound(choice(forbiddenAnswers));
      } else {
        sound(choice(regularAnswers));
      }
      focus();
    }
    </script>
  </head>
  <body onload='start()' onunload='end()'>
  <img src='oraculo.png'>
  <br>
  <input type='text' id='question' value=''>
  <button onclick="answer()">
  Preguntar
  </button>
  </body>
</html>
